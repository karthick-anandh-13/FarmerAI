/* src/App.css - replace existing content with this */

/* base reset */
*,
*::before,
*::after { box-sizing: border-box; }
html, body, #root, .app-root { height: 100%; margin: 0; padding: 0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; }

/* mobile topbar */
.mobile-topbar {
  position: fixed;
  left: 0; right: 0; top: 0;
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(0,0,0,0.04);
  z-index: 60;
}
.mobile-topbar-inner {
  max-width: 1280px; margin: 0 auto; padding: 10px 16px;
  display:flex; align-items:center; justify-content:space-between;
}
.mobile-topbar .brand { font-weight:600; color:#10B981; margin-left:8px; }
.mobile-topbar button { border:0; background:transparent; font-size:16px; padding:6px 10px; cursor:pointer; }

/* app layout grid for desktop */
.app-layout {
  max-width: 1280px;
  margin: 0 auto;
  padding: 1.5rem;
  display: grid;
  grid-template-columns: 260px 1fr 260px;
  gap: 1.5rem;
  align-items: start;
  width: 100%;
  padding-top: 64px; /* space so mobile topbar won't overlap content */
}

/* explicit grid placement so order never changes */
.sidebar { grid-column: 1; }
.chat-main { grid-column: 2; }
.tools { grid-column: 3; }

/* desktop panels */
.sidebar, .tools {
  background: #fff;
  border-radius: 12px;
  padding: 1rem;
  height: calc(100vh - 4rem);
  overflow-y: auto;
  box-shadow: 0 8px 30px rgba(0,0,0,0.04);
}

/* center chat area */
.chat-main {
  display:flex;
  flex-direction:column;
  align-items: center;
  justify-content:flex-start;
  min-height: calc(100vh - 4rem);
}
.chat-inner {
  width: 100%;
  max-width: 820px;
  background: transparent;
}

/* floating hub & feedback buttons */
.floating-hub { position: fixed; left:50%; transform: translateX(-50%); bottom: 24px; z-index: 70; }
.floating-hub button { padding: 10px 20px; border-radius: 28px; background: #ffffff; border:1px solid #10B981; }

/* drawer backdrop for mobile (appears only when drawer open) */
.drawer-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.2); z-index: 45; }

/* ------------------ mobile: stack layout + sliding drawers ------------------ */
@media (max-width: 1023px) {
  .app-layout {
    display: block;
    padding: 1rem;
    padding-top: 56px;
  }
  .sidebar, .tools {
    /* start off-canvas */
    position: fixed;
    top: 0;
    bottom: 0;
    width: 260px;
    height: 100vh;
    margin: 0;
    z-index: 50;
    transition: transform 280ms ease;
    box-shadow: 0 20px 40px rgba(0,0,0,0.12);
  }

  /* left drawer hidden by default, slides in when `.open` added */
  .sidebar { left: 0; transform: translateX(-110%); }
  .sidebar.open { transform: translateX(0); }

  /* right drawer (tools) hidden by default, slides from right */
  .tools { right: 0; left: auto; transform: translateX(110%); }
  .tools.open { transform: translateX(0); }

  /* chat becomes full width stacked block */
  .chat-main { grid-column: auto; padding: 1rem 0; }
  .chat-inner { max-width: 100%; }

  /* keep sidebars visually separate from chat on mobile (optional) */
  .sidebar, .tools { border-radius: 0 12px 12px 0; background: #fff; }
}

/* small visual polish */
.sidebar::-webkit-scrollbar, .tools::-webkit-scrollbar, .chat-inner::-webkit-scrollbar { width: 10px; }
.sidebar::-webkit-scrollbar-thumb, .tools::-webkit-scrollbar-thumb, .chat-inner::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.07); border-radius: 8px; }
